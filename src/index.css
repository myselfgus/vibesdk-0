@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Righteous&display=swap');

@import 'tailwindcss';
@import "tw-animate-css";

/* ========================================
   1ONE DESIGN SYSTEM v1.0.0
   Minimal Black & White Theme
   Applied to VibeSDK Build
   ======================================== */

@font-face {
  font-family: "departureMono";
  src:  url('./assets/fonts/DepartureMono-Regular.woff') 
}

@custom-variant dark (&:is(.dark *));
@plugin '@tailwindcss/typography';

@theme inline {
	/* Border Radius - ZERO for 1one sharp edges */
	--radius: 0rem;
	--radius-sm: 0rem;
	--radius-md: 0rem;
	--radius-lg: 0rem;
	--radius-xl: 0rem;
	--radius-20px: 0rem;
	--radius-24px: 0rem;

	/* 1one Grayscale Colors */
	--color-accent: var(--build-accent-color);
	--color-destructive: var(--destructive);
	--color-input: var(--input);
	--color-ring: var(--ring);

	/* Background layers - mapped to build system */
	--color-bg-1: var(--build-chat-colors-bg-1);
	--color-bg-2: var(--build-chat-colors-bg-2);
	--color-bg-3: var(--build-chat-colors-bg-3);
	--color-bg-4: var(--build-chat-colors-bg-4);

	/* Border colors */
	--color-border-primary: var(--build-chat-colors-border-primary);
	--color-border-secondary: var(--build-chat-colors-border-secondary);
	--color-border-tertiary: var(--build-chat-colors-border-tertiary);

	/* Text colors */
	--color-text-inverted: var(--build-chat-colors-text-inverted);
	--color-text-primary: var(--build-chat-colors-text-primary);
	--color-text-secondary: var(--build-chat-colors-text-secondary);
	--color-text-tertiary: var(--build-chat-colors-text-tertiary);

	/* Brand colors - grayscale for 1one */
	--color-brand-heavy: var(--build-chat-colors-brand-heavy);
	--color-brand-primary: var(--build-chat-colors-brand-primary);
	--color-brand-subtle: var(--build-chat-colors-brand-subtle);
	--color-danger: var(--build-chat-colors-danger);

	/* 1one Shadow System */
	--shadow-sm: 1px 1px 3px -1px rgba(0,0,0,0.2);
	--shadow: 1px 2px 5px -1px rgba(0,0,0,0.25);
	--shadow-md: 1px 2px 5px -1px rgba(0,0,0,0.25);
	--shadow-lg: 2px 4px 10px -2px rgba(0,0,0,0.3);
	--shadow-textarea:
		6px 6px 13px 0px rgba(0, 0, 0, 0.04),
		24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		53px 53px 32px 0px rgba(0, 0, 0, 0.02),
		0px 0px 0px 1px rgba(217, 217, 217, 0.2);

	/* Animations */
	--animate-typing-dot: typing-dot 1.2s ease-in-out infinite;
	--animate-shake: shake 1s ease-in-out;
	--animate-siri-wave: siriWave 1.4s ease-in-out infinite;
	--animate-fade-up: fadeUp 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
	--animate-scale-in-fast: scaleIn 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
	--animate-float: float 4s ease-in-out infinite;
}

:root {
	/* 1one Core Variables */
	--radius: 0rem;
	--destructive: oklch(0.577 0 0);
	--border: #e0e0e0;
	--input: #e7eeea;
	--ring: oklch(0.708 0 0);

	/* 1one Grayscale Brand */
	--build-accent-color: oklch(0.205 0 0);
	--build-chat-colors-bg-1: #e8e8e8;
	--build-chat-colors-bg-2: #f0f0f0;
	--build-chat-colors-bg-3: #f6f6f6;
	--build-chat-colors-bg-4: #ffffff;
	--build-chat-colors-border-primary: #e0e0e0;
	--build-chat-colors-border-secondary: #e8e8e8;
	--build-chat-colors-border-tertiary: rgba(0, 0, 0, 0.06);
	--build-chat-colors-danger: oklch(0.577 0 0);
	--build-chat-colors-brand-heavy: oklch(0.15 0 0);
	--build-chat-colors-brand-primary: oklch(0.205 0 0);
	--build-chat-colors-brand-subtle: oklch(0.3 0 0);
	--build-chat-colors-text-inverted: #ffffff;
	--build-chat-colors-text-primary: oklch(0.145 0 0);
	--build-chat-colors-text-secondary: oklch(0.3 0 0);
	--build-chat-colors-text-tertiary: oklch(0.556 0 0);
}

.dark {
	--destructive: oklch(0.5 0 0);
	--border: oklch(0.25 0 0);
	--input: oklch(0.2 0 0);
	--ring: oklch(0.5 0 0);

	--build-chat-colors-bg-1: oklch(0.08 0 0);
	--build-chat-colors-bg-2: oklch(0.1 0 0);
	--build-chat-colors-bg-3: oklch(0.12 0 0);
	--build-chat-colors-bg-4: oklch(0.15 0 0);
	--build-chat-colors-border-primary: oklch(0.2 0 0);
	--build-chat-colors-border-secondary: oklch(0.18 0 0);
	--build-chat-colors-border-tertiary: oklch(0.15 0 0);
	--build-chat-colors-danger: oklch(0.5 0 0);
	--build-chat-colors-brand-heavy: oklch(0.85 0 0);
	--build-chat-colors-brand-primary: oklch(0.9 0 0);
	--build-chat-colors-brand-subtle: oklch(0.7 0 0);
	--build-chat-colors-text-inverted: oklch(0.1 0 0);
	--build-chat-colors-text-primary: oklch(0.95 0 0);
	--build-chat-colors-text-secondary: oklch(0.8 0 0);
	--build-chat-colors-text-tertiary: oklch(0.6 0 0);

	--shadow-dialog:
		0px 18px 60px 0px rgba(0, 0, 0, 0.3),
		3px 3px 13px 0px rgba(0, 0, 0, 0.2),
		0px 0px 0px 1px rgba(255, 255, 255, 0.05);
	--shadow-elevation:
		6px 6px 13px 0px rgba(0, 0, 0, 0.3),
		24px 24px 24px 0px rgba(0, 0, 0, 0.25),
		0px 0px 0px 1px rgba(255, 255, 255, 0.05);
}

@layer base {
	* {
		@apply border-border-primary outline-ring/50;
	}
  	body {
    	@apply bg-bg-3 text-text-primary font-sans font-light antialiased h-full;
		background: linear-gradient(180deg, #f6f6f6 0%, #e8e8e8 100%);
		min-height: 100vh;
		font-family: 'Space Grotesk', system-ui, sans-serif;
		font-feature-settings: "rlig" 1, "calt" 1;
	}
	.dark body {
		background: linear-gradient(180deg, oklch(0.12 0 0) 0%, oklch(0.08 0 0) 100%);
	}
	h1, h2, h3, h4, h5, h6 {
		font-family: 'Josefin Sans', Georgia, serif;
		@apply font-normal;
	}
	strong, b {
		@apply font-medium;
	}
	button {
		@apply cursor-pointer;
	}
	select {
		@apply cursor-pointer;
	}
	code, pre, kbd, samp {
		font-family: 'Righteous', cursive;
	}
}

@theme {
	--font-sans:
		'Space Grotesk', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
		'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
	--font-serif:
		'Josefin Sans', Georgia, serif;
	--font-mono:
		'Righteous', cursive;

	--color-brand: oklch(0.205 0 0);
	--color-text: oklch(0.145 0 0);
	--color-text-on-brand: #fff;

	--shadow-dialog:
		0px 18px 60px 0px rgba(6, 6, 5, 0.1),
		3px 3px 13px 0px rgba(0, 0, 0, 0.04), -3px 3px 13px 0px rgba(0, 0, 0, 0.04),
		24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		-24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		53px 53px 32px 0px rgba(0, 0, 0, 0.02),
		0px 0px 0px 1px rgba(217, 217, 217, 0.2);
	--shadow-elevation:
		6px 6px 13px 0px rgba(0, 0, 0, 0.04),
		24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		53px 53px 32px 0px rgba(0, 0, 0, 0.02),
		0px 0px 0px 1px rgba(217, 217, 217, 0.2);
	--shadow-soft-layered:
		3px 3px 13px 0px rgba(0, 0, 0, 0.04), 24px 24px 24px 0px rgba(0, 0, 0, 0.03);
}

/* 1ONE Design System Keyframes */
@keyframes siriWave {
	0%, 100% { height: 8px; opacity: 0.4; }
	50% { height: 28px; opacity: 1; }
}

@keyframes fadeUp {
	from { opacity: 0; transform: translateY(20px); }
	to { opacity: 1; transform: translateY(0); }
}

@keyframes scaleIn {
	from { opacity: 0; transform: scale(0.95); }
	to { opacity: 1; transform: scale(1); }
}

@keyframes float {
	0%, 100% { transform: translateY(0); }
	50% { transform: translateY(-6px); }
}

/* 1ONE Component Styles - Sharp Edges */
@layer components {
	.neu-card {
		background: linear-gradient(145deg, #FFFFFF, #e8e8e8);
		box-shadow: 1px 2px 5px -1px rgba(0,0,0,0.15);
		@apply border border-border-primary transition-all duration-300 ease-out;
		border-radius: 0 !important;
	}
	.neu-card:hover {
		transform: translateY(-2px);
		box-shadow: 2px 4px 10px -2px rgba(0,0,0,0.2);
	}

	.neu-card-soft {
		background: linear-gradient(145deg, #FAFAFA, #f0f0f0);
		box-shadow: 1px 1px 3px -1px rgba(0,0,0,0.1);
		@apply border border-border-secondary transition-all duration-300 ease-out;
		border-radius: 0 !important;
	}

	.neu-inset {
		background: #f4f4f2;
		box-shadow: inset 2px 2px 6px rgba(0,0,0,0.04), inset -2px -2px 6px rgba(255,255,255,0.7);
		@apply border border-transparent transition-all duration-200;
		border-radius: 0 !important;
	}
	.neu-inset:focus-within {
		background: #FFFFFF;
		border-color: transparent;
	}

	.neu-btn {
		background: linear-gradient(145deg, oklch(0.25 0 0), oklch(0.15 0 0));
		box-shadow: 1px 2px 5px -1px rgba(0,0,0,0.3);
		@apply text-white font-sans tracking-wide transition-all duration-200 px-6 py-3 font-medium border-none cursor-pointer;
		border-radius: 0 !important;
	}
	.neu-btn:hover {
		filter: brightness(1.1);
		transform: translateY(-1px);
	}
	.neu-btn:active {
		transform: scale(0.97);
		box-shadow: inset 2px 2px 8px rgba(0,0,0,0.1);
	}

	.neu-btn-secondary {
		background: linear-gradient(145deg, #FFFFFF, #e8e8e8);
		box-shadow: 1px 1px 3px -1px rgba(0,0,0,0.1);
		@apply text-text-primary font-sans tracking-wide transition-all duration-200 px-6 py-3 font-medium border border-transparent cursor-pointer;
		border-radius: 0 !important;
	}
	.neu-btn-secondary:hover {
		border-color: rgba(0,0,0,0.05);
		transform: translateY(-1px);
	}
	.neu-btn-secondary:active {
		transform: scale(0.97);
		background: #e8e8e8;
	}

	.neu-btn-ghost {
		@apply bg-transparent text-text-tertiary transition-all duration-200 border-none cursor-pointer;
		border-radius: 0 !important;
	}
	.neu-btn-ghost:hover {
		background: rgba(0,0,0,0.05);
		@apply text-text-primary;
	}

	.neu-icon-btn {
		background: linear-gradient(145deg, #FFFFFF, #e8e8e8);
		box-shadow: 1px 1px 3px -1px rgba(0,0,0,0.1);
		@apply flex items-center justify-center text-text-primary transition-all duration-200 w-10 h-10 border-none cursor-pointer;
		border-radius: 0 !important;
	}
	.neu-icon-btn:active {
		transform: scale(0.95);
		box-shadow: inset 2px 2px 6px rgba(0,0,0,0.05);
	}
}

/* Sharp edges utility - Override any rounded classes */
@layer utilities {
	.sharp {
		border-radius: 0 !important;
	}
}

/* Monaco Editor Fix */
.monaco-editor {
	position: absolute !important;
}

@utility bg-graph-paper {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.03'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

/* Scrollbar styles - sharp edges */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
	background-color: transparent;
}

::-webkit-scrollbar-thumb {
	background-color: rgba(0, 0, 0, 0.2);
	border-radius: 0;
	transition: background-color 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
	background-color: rgba(0, 0, 0, 0.3);
}

.dark ::-webkit-scrollbar-thumb {
	background-color: rgba(255, 255, 255, 0.2);
}

.dark ::-webkit-scrollbar-thumb:hover {
	background-color: rgba(255, 255, 255, 0.3);
}

::-webkit-scrollbar-corner {
	background-color: transparent;
}

/* Custom scrollbars */
.phase-timeline-scroll::-webkit-scrollbar { width: 6px; }
.phase-timeline-scroll::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.05); border-radius: 0; }
.phase-timeline-scroll::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.2); border-radius: 0; }
.phase-timeline-scroll::-webkit-scrollbar-thumb:hover { background: rgba(0, 0, 0, 0.3); }
.dark .phase-timeline-scroll::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.05); }
.dark .phase-timeline-scroll::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2); }
.dark .phase-timeline-scroll::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.3); }

.a-tag a {
	@apply text-brand;
}

.prose {
	--tw-prose-th-headers: --value(var(--color-text));
	--tw-prose-body: --value(var(--color-text));
	--tw-prose-headings: --value(var(--color-text));
	--tw-prose-code: --value(var(--color-text));
	--tw-prose-bold: --value(var(--color-text));
	--tw-prose-quotes: --value(var(--color-text));
	--tw-prose-counters: --value(var(--color-text));
}

/* Chat messages scrollbar */
.chat-messages-scroll::-webkit-scrollbar { width: 8px; }
.chat-messages-scroll::-webkit-scrollbar-track { background: transparent; }
.chat-messages-scroll::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.1); border-radius: 0; }
.chat-messages-scroll::-webkit-scrollbar-thumb:hover { background: rgba(0, 0, 0, 0.15); }
.dark .chat-messages-scroll::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.15); }
.dark .chat-messages-scroll::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.2); }

/* Terminal scrollbar */
.terminal-scroll::-webkit-scrollbar { width: 8px; }
.terminal-scroll::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.05); border-radius: 0; }
.terminal-scroll::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.15); border-radius: 0; transition: background-color 0.2s ease; }
.terminal-scroll::-webkit-scrollbar-thumb:hover { background: rgba(0, 0, 0, 0.25); }
.dark .terminal-scroll::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.05); }
.dark .terminal-scroll::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.15); }
.dark .terminal-scroll::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.25); }

/* Hide scrollbar but keep scroll behavior */
.no-scrollbar {
	-ms-overflow-style: none;
	scrollbar-width: none;
}
.no-scrollbar::-webkit-scrollbar {
	display: none;
}

/* Debug mode pulsing effect - grayscale version */
@keyframes debug-pulse {
  0%, 100% {
    box-shadow:
      inset 4px 0 12px rgba(100, 100, 100, 0.1),
      inset -4px 0 12px rgba(100, 100, 100, 0.1);
  }
  50% {
    box-shadow:
      inset 4px 0 20px rgba(100, 100, 100, 0.2),
      inset -4px 0 20px rgba(100, 100, 100, 0.2);
  }
}

.animate-debug-pulse {
  animation: debug-pulse 2s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  .animate-debug-pulse { animation: none; }
}

/* Custom scrollbar for debug bubble */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 0;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(100, 100, 100, 0.3);
  border-radius: 0;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(100, 100, 100, 0.5);
}

.dark .custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(200, 200, 200, 0.4);
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(200, 200, 200, 0.6);
}

/* Subtle chat edge throb effect - grayscale version */
@keyframes chat-edge-throb {
  0%, 100% {
    box-shadow:
      0 0 0 0 rgba(100, 100, 100, 0.10),
      inset 0 0 0 1px rgba(100, 100, 100, 0.16);
  }
  50% {
    box-shadow:
      0 0 0 6px rgba(120, 120, 120, 0.08),
      inset 0 0 0 2px rgba(120, 120, 120, 0.22);
  }
}

.chat-edge-throb {
  animation: chat-edge-throb 1.6s ease-in-out infinite;
  border-radius: 0; /* sharp edges for 1one */
}

@media (prefers-reduced-motion: reduce) {
  .chat-edge-throb { animation: none; }
}


/* =============================================
   1ONE DESIGN SYSTEM - GLOBAL SHARP EDGES
   This ensures all rounded classes are overridden
   ============================================= */

/* Override ALL Tailwind rounded utilities globally */
[class*="rounded"] {
	border-radius: 0 !important;
}

.rounded,
.rounded-none,
.rounded-sm,
.rounded-md,
.rounded-lg,
.rounded-xl,
.rounded-2xl,
.rounded-3xl,
.rounded-full {
	border-radius: 0 !important;
}

/* Override Radix UI components */
[data-radix-popper-content-wrapper] [class*="rounded"],
[data-radix-menu-content] [class*="rounded"],
[data-radix-select-content] [class*="rounded"],
[data-radix-dialog-content] [class*="rounded"],
[data-radix-popover-content] [class*="rounded"],
[data-radix-tooltip-content] [class*="rounded"] {
	border-radius: 0 !important;
}

/* Ensure form elements are sharp */
input,
textarea,
select,
button {
	border-radius: 0 !important;
}

/* Override any inline border-radius */
* {
	border-radius: 0 !important;
}
